/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /gh/webflow/brand_studio@a468c09/global-brand-code/custom-components/persona-selector.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(t){"use strict";const e={config:{storageKey:"persona-select-active",urlParam:"persona",dropdownSelector:'[data-persona-select="dropdown"]',optionSelector:"[data-persona-option]",buttonTextSelector:'[data-persona-select="button-text"]',contentSelector:"[data-persona-content]",toggleSelector:".w-dropdown-toggle",listSelector:".w-dropdown-list",activeClass:"cc-active",openClass:"w--open"},dropdowns:[],activeOption:null,readyCallbacks:[],isReady:!1,init:function(){this.findDropdowns(),0!==this.dropdowns.length?(this.setupAccessibility(),this.checkUrlParameter(),this.loadStoredSelection(),this.bindEvents(),this.updateAllDropdowns(),this.updateContentVisibility(),this.executeReadyCallbacks()):this.executeReadyCallbacks()},findDropdowns:function(){this.dropdowns=Array.from(document.querySelectorAll(this.config.dropdownSelector))},setupAccessibility:function(){const t=this;0!==this.dropdowns.length&&this.dropdowns.forEach((function(e){const o=e.querySelector(t.config.toggleSelector),i=e.querySelector(t.config.listSelector),n=e.querySelectorAll(t.config.optionSelector);o&&(o.setAttribute("role","combobox"),o.setAttribute("aria-haspopup","listbox"),o.setAttribute("aria-expanded","false"),o.getAttribute("tabindex")||o.setAttribute("tabindex","0")),i&&(i.setAttribute("role","listbox"),i.setAttribute("aria-labelledby",o?o.id||t.generateToggleId(o):"")),n.forEach((function(e){e.setAttribute("role","option"),e.id||(e.id=t.generateOptionId(e))})),o&&!o.id&&(o.id=t.generateToggleId(o))}))},checkUrlParameter:function(){const e=new URLSearchParams(t.location.search).get(this.config.urlParam);e&&(this.isValidOption(e)?(this.activeOption=e,this.saveToStorage()):console.warn(`PersonaSelect: Invalid persona parameter "${e}". Available options: ${this.getAvailableOptions().join(", ")}`),this.clearUrlParameter())},isValidOption:function(t){return!!document.querySelector(`[data-persona-option="${t}"]`)},getAvailableOptions:function(){const t=document.querySelectorAll(this.config.optionSelector),e=[];return 0===t.length?e:(t.forEach((function(t){const o=t.getAttribute("data-persona-option");o&&!e.includes(o)&&e.push(o)})),e.sort())},updateUrlParameter:function(e){const o=new URL(t.location);o.searchParams.set(this.config.urlParam,e),t.history.replaceState({},"",o)},clearUrlParameter:function(){const e=new URL(t.location);e.searchParams.delete(this.config.urlParam),t.history.replaceState({},"",e)},loadStoredSelection:function(){if(!this.activeOption){const t=localStorage.getItem(this.config.storageKey);t?this.activeOption=t:this.setDefaultSelection()}},setDefaultSelection:function(){const t=document.querySelector(this.config.optionSelector+"."+this.config.activeClass);if(t)this.activeOption=t.getAttribute("data-persona-option");else{const t=document.querySelector(this.config.optionSelector);t&&(this.activeOption=t.getAttribute("data-persona-option"))}},bindEvents:function(){const t=this;0!==this.dropdowns.length&&(this.dropdowns.forEach((function(e){const o=e.querySelector(t.config.toggleSelector);o&&(o.addEventListener("click",(function(o){o.preventDefault(),t.toggleDropdown(e)})),o.addEventListener("keydown",(function(o){"Enter"!==o.key&&" "!==o.key||(o.preventDefault(),t.toggleDropdown(e))})));e.querySelectorAll(t.config.optionSelector).forEach((function(o){o.addEventListener("click",(function(o){o.preventDefault(),t.selectOption(this.getAttribute("data-persona-option")),t.closeDropdown(e)})),o.addEventListener("keydown",(function(o){"Enter"!==o.key&&" "!==o.key||(o.preventDefault(),t.selectOption(this.getAttribute("data-persona-option")),t.closeDropdown(e))}))}))})),document.addEventListener("click",(function(e){e.target.closest(t.config.dropdownSelector)||t.closeAllDropdowns()})))},selectOption:function(t){this.activeOption=t,this.saveToStorage(),this.updateAllDropdowns(),this.updateContentVisibility()},saveToStorage:function(){localStorage.setItem(this.config.storageKey,this.activeOption)},updateAllDropdowns:function(){const t=this;0!==this.dropdowns.length&&this.dropdowns.forEach((function(e){t.updateDropdown(e)}))},updateDropdown:function(t){const e=t.querySelectorAll(this.config.optionSelector),o=t.querySelector(this.config.buttonTextSelector),i=t.querySelector(this.config.toggleSelector),n=t.querySelector(this.config.listSelector);let s=!1,r=null,a=-1;const c=e.length;if(e.forEach(function(t,e){const i=t.getAttribute("data-persona-option"),n=t.textContent.trim(),l=i===this.activeOption;0===e&&(r=t),l?(s=!0,a=e,this.setOptionActive(t,e+1,c),o&&(o.textContent=n)):this.setOptionInactive(t,e+1,c)}.bind(this)),!s&&r&&(this.activeOption=r.getAttribute("data-persona-option"),a=0,this.setOptionActive(r,1,c),o&&(o.textContent=r.textContent.trim()),this.saveToStorage()),i&&a>=0){const e=t.querySelector(`[data-persona-option="${this.activeOption}"]`),o=e?e.textContent.trim():this.activeOption;i.setAttribute("aria-label",`${o}, selected item ${a+1} of ${c}`)}n&&n.setAttribute("aria-activedescendant",this.getActiveOptionId(t))},setOptionActive:function(t,e,o){t.classList.add(this.config.activeClass),t.setAttribute("aria-selected","true"),t.setAttribute("tabindex","0"),t.id||(t.id=this.generateOptionId(t));const i=t.textContent.trim();t.setAttribute("aria-label",`${i}, selected, ${e} of ${o}`)},setOptionInactive:function(t,e,o){t.classList.remove(this.config.activeClass),t.setAttribute("aria-selected","false"),t.setAttribute("tabindex","-1"),t.id||(t.id=this.generateOptionId(t));const i=t.textContent.trim();t.setAttribute("aria-label",`${i}, not selected, ${e} of ${o}`)},getActiveOption:function(){return this.activeOption},getUrlParameter:function(){return new URLSearchParams(t.location.search).get(this.config.urlParam)},setActiveOption:function(t){this.selectOption(t)},refresh:function(){this.findDropdowns(),0!==this.dropdowns.length&&(this.setupAccessibility(),this.bindEvents(),this.updateAllDropdowns(),this.updateContentVisibility())},clearStorage:function(){localStorage.removeItem(this.config.storageKey),this.clearUrlParameter(),this.setDefaultSelection(),this.updateAllDropdowns(),this.updateContentVisibility()},toggleDropdown:function(t){const e=t.classList.contains(this.config.openClass),o=t.querySelector(this.config.toggleSelector);t.classList.toggle(this.config.openClass),o&&o.setAttribute("aria-expanded",e?"false":"true")},closeDropdown:function(t){const e=t.querySelector(this.config.toggleSelector);t.classList.remove(this.config.openClass),e&&e.setAttribute("aria-expanded","false")},closeAllDropdowns:function(){const t=this;0!==this.dropdowns.length&&this.dropdowns.forEach((function(e){t.closeDropdown(e)}))},generateOptionId:function(t){return`persona-option-${t.textContent.trim().toLowerCase().replace(/\s+/g,"-")}-${Date.now()}`},generateToggleId:function(t){return`persona-toggle-${Date.now()}`},getActiveOptionId:function(t){const e=t.querySelector(this.config.optionSelector+"."+this.config.activeClass);return e?e.id:""},updateContentVisibility:function(){document.querySelectorAll(this.config.contentSelector).forEach(function(t){t.getAttribute("data-persona-content")===this.activeOption?(t.style.display="",t.removeAttribute("hidden"),t.setAttribute("aria-hidden","false")):(t.style.display="none",t.setAttribute("hidden",""),t.setAttribute("aria-hidden","true"))}.bind(this))},onReady:function(t){if("function"==typeof t)if(this.isReady)try{t(this)}catch(t){console.error("PersonaSelect ready callback error:",t)}else this.readyCallbacks.push(t);else console.warn("PersonaSelect.onReady: callback must be a function")},executeReadyCallbacks:function(){this.isReady=!0,this.readyCallbacks.forEach(function(t){try{t(this)}catch(t){console.error("PersonaSelect ready callback error:",t)}}.bind(this)),this.readyCallbacks=[]}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(function(){e.init()})):e.init(),t.PersonaSelect=e}(window);
//# sourceMappingURL=/sm/74ef9ddc34afb89c4f0b2de5699b8eee351cb38f012ad8a40c7213b5ab2ea0de.map